export make_set = |values|
  data: if not values then {} else values.to_map()
  contains: |value| self.data.contains_key value
  contains_key: || throw "Use contains, not contains_key"
  insert: |value|
    self.data.insert value
    self
  is_empty: || self.size() == 0
  size: || self.data.size()

  @iterator: || self.data.keys()

iterator.to_set = || make_set self
