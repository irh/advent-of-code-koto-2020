export make_set = |values|
  data: if not values then {} else values.to_map()
  contains: |self, value| self.data.contains_key value
  contains_key: || throw "Use contains, not contains_key"
  insert: |self, value|
    self.data.insert value
    self
  is_empty: |self| self.size() == 0
  size: |self| self.data.size()

  @iterator: |self| self.data.keys()

iterator.to_set = |iter| make_set iter
